import{a as I,d as T,r as l,j as a,b as M}from"./index-Sp4R2Q9X.js";import{p as f}from"./posts-B_GNOyw5.js";import{m as y}from"./proxy-BNEGQLi9.js";import{S as q}from"./search-CLSzvn3w.js";import{T as B,F as H}from"./tag-D0FUxvHy.js";import{F as P}from"./funnel-BFuRV4kb.js";import{C as z}from"./calendar-DAnifI5g.js";import{C as Q}from"./clock-CWOJc-o7.js";const k=d=>Array.from(new Set(d));function X(){const[d,j]=I();T();const[r,S]=l.useState(d.get("q")||""),[t,N]=l.useState(d.get("tag")||"all"),[o,L]=l.useState(d.get("category")||"all"),[p,h]=l.useState(parseInt(d.get("page")||"1",10)),u=10;l.useEffect(()=>{window.scrollTo(0,0)},[]),l.useEffect(()=>{const e={};r&&(e.q=r),t&&t!=="all"&&(e.tag=t),o&&o!=="all"&&(e.category=o),p&&p>1&&(e.page=String(p)),j(e,{replace:!0})},[r,t,o,p,j]),l.useEffect(()=>{h(1)},[r,t,o]);const w=l.useMemo(()=>k(f.flatMap(e=>e.tags||[])).sort(),[]),A=l.useMemo(()=>k(f.flatMap(e=>e.categories||[])).sort(),[]),m=l.useMemo(()=>f.filter(e=>(!r||e.title.toLowerCase().includes(r.toLowerCase())||e.excerpt.toLowerCase().includes(r.toLowerCase())||(e.keywords||"").toLowerCase().includes(r.toLowerCase()))&&(t==="all"||(e.tags||[]).includes(t))&&(o==="all"||(e.categories||[]).includes(o))).sort((e,s)=>new Date(s.timestamp)-new Date(e.timestamp)),[r,t,o]),n=Math.max(1,Math.ceil(m.length/u)),c=Math.min(Math.max(1,p),n),g=(c-1)*u,v=Math.min(g+u,m.length),$=m.slice(g,v),D=e=>{if(!e)return{words:0,minutes:1};const s=e.replace(/<[^>]*>/g," ").replace(/&[^;]+;/g," ").trim().split(/\s+/).filter(Boolean).length,x=Math.max(1,Math.round(s/200));return{words:s,minutes:x}},F=()=>{const e=[];if(n<=7){for(let i=1;i<=n;i++)e.push(i);return e}const s=Math.max(2,c-1),x=Math.min(n-1,c+1);e.push(1),s>2&&e.push("\u2026");for(let i=s;i<=x;i++)e.push(i);return x<n-1&&e.push("\u2026"),e.push(n),e},C=e=>{N(e===t?"all":e)};return a.jsx("div",{className:"min-h-screen bg-gradient text-white",children:a.jsxs("div",{className:"container mx-auto px-6 py-40",children:[a.jsxs(y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-10",children:[a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:["AI ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#86c32a] via-[#a0e933] to-[#86c32a]",children:"News"})]}),a.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Monthly, expert-curated updates on AI trends, innovations, and industry insights."})]}),a.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"max-w-5xl mx-auto mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx(q,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{value:r,onChange:e=>S(e.target.value),placeholder:"Search posts, topics, keywords...",className:"w-full pl-12 pr-4 py-3 bg-secondaryColor border border-[#86c32a] rounded-lg focus:outline-none"})]}),a.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[a.jsxs("select",{value:o,onChange:e=>L(e.target.value),className:"flex-1 md:flex-none px-3 py-3 bg-secondaryColor border border-[#86c32a] rounded-lg",children:[a.jsx("option",{value:"all",children:"All Categories"}),A.map(e=>a.jsx("option",{value:e,children:e},e))]}),a.jsxs("select",{value:t,onChange:e=>N(e.target.value),className:"flex-1 md:flex-none px-3 py-3 bg-secondaryColor border border-[#86c32a] rounded-lg",children:[a.jsx("option",{value:"all",children:"All Topics"}),w.map(e=>a.jsx("option",{value:e,children:e},e))]})]})]})}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:w.map(e=>a.jsx("button",{onClick:()=>C(e),className:`px-3 py-1 rounded-full text-sm border ${t===e?"bg-[#86c32a] text-black border-[#86c32a]":"bg-secondaryColor border-gray-700 text-gray-300 hover:border-[#86c32a]"}`,children:a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx(B,{className:"w-3 h-3"})," ",e]})},e))}),a.jsx("div",{className:"text-center mb-10",children:a.jsxs(M,{to:"/ai-news/archive",className:"text-[#a0e933] hover:underline inline-flex items-center gap-2",children:[a.jsx(P,{className:"w-4 h-4"})," Browse archive by month"]})}),a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[$.map(e=>{const s=D(e.contentHtml),x=Number.isFinite(e.wordCount)?e.wordCount:s.words,i=Number.isFinite(e.readingMinutes)?e.readingMinutes:s.minutes;return a.jsxs(y.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-secondaryColor border border-gray-700 hover:border-[#86c32a] rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-400 text-sm mb-2",children:[a.jsx(z,{className:"w-4 h-4"})," ",new Date(e.timestamp).toLocaleDateString(),a.jsx("span",{className:"mx-2",children:"\u2022"}),a.jsx("span",{children:(e.categories||[]).join(" / ")}),a.jsx("span",{className:"mx-2",children:"\u2022"}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx(Q,{className:"w-4 h-4"})," ",i," min read"]}),a.jsx("span",{className:"mx-1",children:"\xB7"}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx(H,{className:"w-4 h-4"})," ",x.toLocaleString()," words"]})]}),a.jsx(M,{to:`/ai-news/${e.slug}`,className:"block",children:a.jsx("h2",{className:"text-2xl font-bold mb-2 text-white hover:text-[#86c32a]",children:e.title})}),a.jsx("p",{className:"text-gray-300 mb-4",children:e.excerpt}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(e.tags||[]).map(b=>a.jsxs("button",{onClick:E=>{E.preventDefault(),C(b)},className:"px-2 py-1 rounded-full bg-gray-700 text-gray-300 text-xs hover:bg-[#86c32a] hover:text-black",children:["#",b]},b))})]},e.slug)}),m.length===0&&a.jsx("div",{className:"text-center text-gray-400",children:"No posts match your filters."})]}),m.length>0&&a.jsxs("div",{className:"max-w-5xl mx-auto mt-8 flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-gray-300",children:[a.jsxs("div",{children:["Showing ",g+1,"\u2013",v," of ",m.length]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{disabled:c===1,onClick:()=>h(e=>Math.max(1,e-1)),className:`px-3 py-2 rounded-lg border ${c===1?"opacity-50 cursor-not-allowed border-gray-700":"border-gray-700 hover:border-[#86c32a]"}`,children:"Prev"}),F().map((e,s)=>typeof e=="number"?a.jsx("button",{onClick:()=>h(e),className:`px-3 py-2 rounded-lg border ${e===c?"bg-[#86c32a] text-black border-[#86c32a]":"border-gray-700 hover:border-[#86c32a]"}`,children:e},s):a.jsx("span",{className:"px-2 text-gray-500",children:e},s)),a.jsx("button",{disabled:c===n,onClick:()=>h(e=>Math.min(n,e+1)),className:`px-3 py-2 rounded-lg border ${c===n?"opacity-50 cursor-not-allowed border-gray-700":"border-gray-700 hover:border-[#86c32a]"}`,children:"Next"})]})]})]})})}export{X as default};
